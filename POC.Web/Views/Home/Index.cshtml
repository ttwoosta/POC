@using POC_Web.Models

@{
	ViewBag.Title = "Index";
}


<script>

	$(function () {
			$("#transactionGridContainer").dxDataGrid({
				dataSource: DevExpress.data.AspNet.createStore({
					key: "Xml_Id",
					loadUrl: url + "/pocxml",
				}),
				selection: {
					mode: "single"
				},
				columnMinWidth: 50,
				columnFixing: {
					enabled: true
				},

		});

		var editButton = $("#btnEditXml").dxButton({
			text: "Edit XML",
			height: 34,
			width: 195,
			disabled: false,
			type: "default",
			onClick: function () {
            var dataGrid = $('#transactionGridContainer').dxDataGrid('instance');
			var selectId = dataGrid.getSelectedRowKeys();
            $.ajax({
				url: "@Url.Action("EditXmlFileForm")",
				data: {
					id: selectId[0]
				},
				type:'Get',
				success: function (result) {
					$("#formDiv").html(result);
                }
				 });

			}
		}).dxButton("instance");

		var editwithTextEditor = $("#btnTextEditor").dxButton({
			text: "Text Editor",
			height: 34,
			width: 195,
			disabled: false,
			type: "default",
			onClick: function () {
            var dataGrid = $('#transactionGridContainer').dxDataGrid('instance');
			var selectId = dataGrid.getSelectedRowKeys();
            $.ajax({
				url: "@Url.Action("Texteditor")",
				data: {
					id: selectId[0]
				},
				type:'Get',
				success: function (result) {
					$("#formDiv").html(result);
                }
				 });

			}
		}).dxButton("instance");


	//toastNotification("Successful",'@ToastEnum.Success');

    });
</script>

<div class="container">
	<h2>Add / Edit Xml File</h2>
	<div class="panel panel-default">
		<div class="panel-heading">
			<div class="transaction-container">
				<div id="btnEditXml"></div>
				<div id="btnTextEditor"></div>
				<div id="transactionGridContainer">
				</div>
			</div>
		</div>

		<div class="panel-body">
			<div id="formDiv">
			</div>
		</div>
	</div>
</div>

